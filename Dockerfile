FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 python-boto && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="1.0.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogc25zLWFwYgppbWFnZTogYW5zaWJsZXBsYXlib29rYnVuZGxlL3Nucy1hcGIKZGVzY3Jp\
cHRpb246ICdNYW5hZ2VkIHNucyB0b3BpYycKdGFnczoKICAtIGFtYXpvbgogIC0gc25zCmJpbmRh\
YmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBkaXNwbGF5TmFtZTogIkFtYXpv\
biBTTlMgKEFQQikiCiAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIFNpbXBsZSBOb3RpZmljYXRp\
b24gU2VydmljZSAoQW1hem9uIFNOUykgaXMgYSB3ZWIgc2VydmljZSB0aGF0IGVuYWJsZXMgYXBw\
bGljYXRpb25zLCBlbmQtdXNlcnMsIGFuZCBkZXZpY2VzIHRvIGluc3RhbnRseSBzZW5kIGFuZCBy\
ZWNlaXZlIG5vdGlmaWNhdGlvbnMgZnJvbSB0aGUgY2xvdWQiCiAgaW1hZ2VVcmw6ICJodHRwczov\
L3MzLmFtYXpvbmF3cy5jb20vdGhwLWF3cy1pY29ucy1kZXYvTWVzc2FnaW5nX0FtYXpvblNOU19M\
QVJHRS5wbmciCiAgZG9jdW1lbnRhdGlvblVybDogImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vZG9j\
dW1lbnRhdGlvbi9zbnMvIgpwbGFuczoKICAtIG5hbWU6IHRvcGljd2l0aHN1YgogICAgZGVzY3Jp\
cHRpb246ICdEZXBsb3lzIGFuIFNOUyBUb3BpYyBhbmQgc3Vic2NyaWJlcyBhbiBlbmRwb2ludCB0\
byBpdCcKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogIlRvcGljIGFuZCBTdWJzY3Jp\
cHRpb24iCiAgICAgIGxvbmdEZXNjcmlwdGlvbjogIiIKICAgICAgY29zdDogJDAuMDAKICAgIGZy\
ZWU6IGZhbHNlCiAgICBwYXJhbWV0ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZpZXIK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRlbnRp\
ZmllcgogICAgICAgIGRlc2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5jbHVk\
ZWQgaW4gdGhlIENsb3VkRm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcgY29s\
bGlzaW9ucy4gTXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5kIGh5\
cGhlbnMuIChlLmcuICJzYW1wbGUtc25zLXN0YWNrIiwgInByb2R1Y3Rpb24tc25zLTA4LTIwMTci\
KScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAg\
ICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAg\
ZGVzY3JpcHRpb246ICdBV1MgQWNjZXNzIEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGgu\
JwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICAg\
ICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAgICBk\
ZXNjcmlwdGlvbjogJ0FXUyBTZWNyZXQgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4n\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogcmVnaW9uCiAgICAgICAgcmVxdWly\
ZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIFJlZ2lvbgogICAgICAgIGRlc2NyaXB0aW9uOiAn\
QVdTIFJlZ2lvbiB0byBjcmVhdGUgU05TIHRvcGljIGluLicKICAgICAgICB0eXBlOiBzdHJpbmcK\
ICAgICAgICBkZWZhdWx0OiAidXMtd2VzdC0yIgogICAgICAtIG5hbWU6IFN1YnNjcmlwdGlvbkVu\
ZFBvaW50CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogU3Vic2NyaXB0aW9u\
IEVuZCBQb2ludAogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGVuZHBvaW50IHRoYXQgcmVjZWl2\
ZXMgbm90aWZpY2F0aW9ucyBmcm9tIHRoZSBBbWF6b24gU05TIHRvcGljLiBUaGUgZW5kcG9pbnQg\
dmFsdWUgZGVwZW5kcyBvbiB0aGUgcHJvdG9jb2wgdGhhdCB5b3Ugc3BlY2lmeS4gVGhpcyBjb3Vs\
ZCBiZSBhIFVSTCBvciBBUk4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogU3Vi\
c2NyaXB0aW9uUHJvdG9jb2wKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBT\
dWJzY3JpcHRpb24gUHJvdG9jb2wKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBzdWJzY3JpcHRp\
b25zIHByb3RvY29sJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJzcXMi\
CiAgLSBuYW1lOiB0b3BpYwogICAgZGVzY3JpcHRpb246ICdkZXBsb3lzIGFuIFNOUyBUb3BpYycK\
ICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogIlRvcGljIE9ubHkiCiAgICAgIGxvbmdE\
ZXNjcmlwdGlvbjogIiIKICAgICAgY29zdDogJDAuMDAKICAgIGZyZWU6IGZhbHNlCiAgICBwYXJh\
bWV0ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZpZXIKICAgICAgICByZXF1aXJlZDog\
dHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRlbnRpZmllcgogICAgICAgIGRlc2Ny\
aXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9y\
bWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5\
IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1w\
bGUtc25zLXN0YWNrIiwgInByb2R1Y3Rpb24tc25zLTA4LTIwMTciKScKICAgICAgICB0eXBlOiBz\
dHJpbmcKICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVl\
CiAgICAgICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1Mg\
QWNjZXNzIEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0\
cmluZwogICAgICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUK\
ICAgICAgICB0aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBT\
ZWNyZXQgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3Ry\
aW5nCiAgICAgIC0gbmFtZTogcmVnaW9uCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0\
aXRsZTogQVdTIFJlZ2lvbgogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFJlZ2lvbiB0byBjcmVh\
dGUgU05TIHRvcGljIGluLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAi\
dXMtd2VzdC0yIgogIC0gbmFtZTogc3Vic2NyaXB0aW9uCiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0\
ZXMgYSBzdWJzY3JpcHRpb24gdG8gYW4gZXhpc3RpbmcgdG9waWMnCiAgICBtZXRhZGF0YToKICAg\
ICAgZGlzcGxheU5hbWU6ICJTdWJzY3JpcHRpb24gT25seSIKICAgICAgbG9uZ0Rlc2NyaXB0aW9u\
OiAiIgogICAgICBjb3N0OiAkMC4wMAogICAgZnJlZTogZmFsc2UKICAgIHBhcmFtZXRlcnM6CiAg\
ICAgIC0gbmFtZTogc3RhY2tfaWRlbnRpZmllcgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAg\
ICAgdGl0bGU6IFVuaXF1ZSBTdGFjayBJZGVudGlmaWVyCiAgICAgICAgZGVzY3JpcHRpb246ICdV\
bmlxdWUgaWRlbnRpZmllciB0byBiZSBpbmNsdWRlZCBpbiB0aGUgQ2xvdWRGb3JtYXRpb24gU3Rh\
Y2sgTmFtZSB0byBwcmV2ZW50IG5hbWluZyBjb2xsaXNpb25zLiBNdXN0IG9ubHkgY29udGFpbiBh\
bHBoYW51bWVyaWMgY2hhcmFjdGVycyBhbmQgaHlwaGVucy4gKGUuZy4gInNhbXBsZS1zbnMtc3Rh\
Y2siLCAicHJvZHVjdGlvbi1zbnMtMDgtMjAxNyIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAg\
ICAtIG5hbWU6IGF3c19hY2Nlc3Nfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0\
aXRsZTogQVdTIEFjY2VzcyBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBBY2Nlc3MgS2V5\
IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
IC0gbmFtZTogYXdzX3NlY3JldF9rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBBV1MgU2VjcmV0IEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFNlY3JldCBLZXkg\
dG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAg\
LSBuYW1lOiByZWdpb24KICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1Mg\
UmVnaW9uCiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgUmVnaW9uIHRvIGNyZWF0ZSBTTlMgdG9w\
aWMgaW4uJwogICAgICAgIHR5cGU6IGVudW0KICAgICAgICBlbnVtOgogICAgICAgICAgLSBhcC1u\
b3J0aGVhc3QtMQogICAgICAgICAgLSBhcC1ub3J0aGVhc3QtMgogICAgICAgICAgLSBhcC1zb3V0\
aC0xCiAgICAgICAgICAtIGFwLXNvdXRoZWFzdC0xCiAgICAgICAgICAtIGFwLXNvdXRoZWFzdC0y\
CiAgICAgICAgICAtIGNhLWNlbnRyYWwtMQogICAgICAgICAgLSBldS1jZW50cmFsLTEKICAgICAg\
ICAgIC0gZXUtd2VzdC0xCiAgICAgICAgICAtIGV1LXdlc3QtMgogICAgICAgICAgLSBzYS1lYXN0\
LTEKICAgICAgICAgIC0gdXMtZWFzdC0xCiAgICAgICAgICAtIHVzLWVhc3QtMgogICAgICAgICAg\
LSB1cy13ZXN0LTEKICAgICAgICAgIC0gdXMtd2VzdC0yCiAgICAgICAgZGVmYXVsdDogdXMtd2Vz\
dC0yCiAgICAgIC0gbmFtZTogU3Vic2NyaXB0aW9uRW5kUG9pbnQKICAgICAgICByZXF1aXJlZDog\
dHJ1ZQogICAgICAgIHRpdGxlOiBTdWJzY3JpcHRpb24gRW5kIFBvaW50CiAgICAgICAgZGVzY3Jp\
cHRpb246ICdUaGUgZW5kcG9pbnQgdGhhdCByZWNlaXZlcyBub3RpZmljYXRpb25zIGZyb20gdGhl\
IEFtYXpvbiBTTlMgdG9waWMuIFRoZSBlbmRwb2ludCB2YWx1ZSBkZXBlbmRzIG9uIHRoZSBwcm90\
b2NvbCB0aGF0IHlvdSBzcGVjaWZ5LiBUaGlzIGNvdWxkIGJlIGEgVVJMIG9yIEFSTicKICAgICAg\
ICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBTdWJzY3JpcHRpb25Qcm90b2NvbAogICAgICAg\
IHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFN1YnNjcmlwdGlvbiBQcm90b2NvbAogICAg\
ICAgIGRlc2NyaXB0aW9uOiAnVGhlIHN1YnNjcmlwdGlvbnMgcHJvdG9jb2wnCiAgICAgICAgZW51\
bToKICAgICAgICAgIC0gIiIKICAgICAgICAgIC0gaHR0cAogICAgICAgICAgLSBodHRwcwogICAg\
ICAgICAgLSBlbWFpbAogICAgICAgICAgLSBlbWFpbC1qc29uCiAgICAgICAgICAtIHNtcwogICAg\
ICAgICAgLSBzcXMKICAgICAgICAgIC0gYXBwbGljYXRpb24KICAgICAgICAgIC0gbGFtYmRhCiAg\
ICAgICAgdHlwZTogZW51bQogICAgICAtIG5hbWU6IEV4aXN0aW5nVG9waWNBcm4KICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBFeGlzdGluZyBTTlMgVG9waWMgQVJOCiAgICAg\
ICAgZGVzY3JpcHRpb246ICdUaGUgVG9waWMgQVJOIHRvIHN1YnNjcmliZSB0bycKICAgICAgICB0\
eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAiIgo="
















USER apb
